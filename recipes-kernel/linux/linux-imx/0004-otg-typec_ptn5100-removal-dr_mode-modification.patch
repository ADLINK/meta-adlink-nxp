From f4ff1821280e96bbe786c04df9e57a5441413b81 Mon Sep 17 00:00:00 2001
From: Dinesh kumar <dineshkumar.varadarajan@adlinktech.com>
Date: Tue, 7 May 2019 20:42:04 +0530
Subject: [PATCH 4/7] otg-typec_ptn5100-removal-dr_mode-modification

---
 arch/arm64/boot/dts/adlink/adlink-lec-imx8m.dts | 31 +------------------------
 1 file changed, 1 insertion(+), 30 deletions(-)

diff --git a/arch/arm64/boot/dts/adlink/adlink-lec-imx8m.dts b/arch/arm64/boot/dts/adlink/adlink-lec-imx8m.dts
index 8465cfa..0fb3480 100644
--- a/arch/arm64/boot/dts/adlink/adlink-lec-imx8m.dts
+++ b/arch/arm64/boot/dts/adlink/adlink-lec-imx8m.dts
@@ -228,13 +228,6 @@
 			>;
 		};
 
-		pinctrl_typec: typecgrp {
-			fsl,pins = <
-				MX8MQ_IOMUXC_NAND_RE_B_GPIO3_IO15	0x16
-				MX8MQ_IOMUXC_NAND_CE2_B_GPIO3_IO3	0x17059
-			>;
-		};
-
 		pinctrl_qspi: qspigrp {
 			fsl,pins = <
 				MX8MQ_IOMUXC_NAND_ALE_QSPI_A_SCLK	0x82
@@ -518,24 +511,6 @@
 		};
 	};
 
-	typec_ptn5100: ptn5110@50 {
-		compatible = "usb,tcpci";
-		pinctrl-names = "default";
-		pinctrl-0 = <&pinctrl_typec>;
-		reg = <0x50>;
-		interrupt-parent = <&gpio3>;
-		interrupts = <3 8>;
-		ss-sel-gpios = <&gpio3 15 GPIO_ACTIVE_HIGH>;
-		src-pdos = <0x380190c8>;
-		snk-pdos = <0x380190c8 0x3802d0c8>;
-		max-snk-mv = <9000>;
-		max-snk-ma = <2000>;
-		op-snk-mw = <9000>;
-		max-snk-mw = <18000>;
-		port-type = "drp";
-		default-role = "sink";
-	};
-
 	ov5640_mipi2: ov5640_mipi2@3c {
 		compatible = "ovti,ov5640_mipi";
 		reg = <0x3c>;
@@ -734,11 +709,7 @@
 
 &usb_dwc3_0 {
 	status = "okay";
-	extcon = <&typec_ptn5100>;
-	dr_mode = "otg";
-	hnp-disable;
-	srp-disable;
-	adp-disable;
+	dr_mode = "peripheral";
 };
 
 &usb3_phy1 {
-- 
1.9.1

