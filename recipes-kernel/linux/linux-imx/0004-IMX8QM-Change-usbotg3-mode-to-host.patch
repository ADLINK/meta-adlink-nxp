From fa59818f0c8558e3e456e2c8f4e08a7774f23b49 Mon Sep 17 00:00:00 2001
From: Arun Kumar <arunkumar.ev@adlinktech.com>
Date: Fri, 17 Apr 2020 16:02:18 +0530
Subject: [PATCH 04/11] IMX8QM: Change usbotg3 mode to host

Change usbotg3 dual role mode to host

Signed-off-by: Arun Kumar <arunkumar.ev@adlinktech.com>
---
 .../boot/dts/adlink/adlink-lec-imx8qm.dtsi    | 23 +------------------
 1 file changed, 1 insertion(+), 22 deletions(-)

diff --git a/arch/arm64/boot/dts/adlink/adlink-lec-imx8qm.dtsi b/arch/arm64/boot/dts/adlink/adlink-lec-imx8qm.dtsi
index c66d6b7f81bb..bf69bda7a5aa 100644
--- a/arch/arm64/boot/dts/adlink/adlink-lec-imx8qm.dtsi
+++ b/arch/arm64/boot/dts/adlink/adlink-lec-imx8qm.dtsi
@@ -719,8 +719,7 @@
 };
 
 &usbotg3 {
-	dr_mode = "otg";
-	extcon = <&typec_ptn5110>;
+	dr_mode = "host";
 	status = "okay";
 };
 
@@ -853,26 +852,6 @@
 		reg = <0x60>;
 		interrupt-open-drain;
 	};
-
-	typec_ptn5110: typec@50 {
-		compatible = "nxp,ptn5110";
-		pinctrl-names = "default";
-		pinctrl-0 = <&pinctrl_typec>;
-		reg = <0x51>;
-		interrupt-parent = <&gpio4>;
-		interrupts = <26 IRQ_TYPE_LEVEL_LOW>;
-		ss-sel-gpios = <&gpio4 6 GPIO_ACTIVE_LOW>;
-		reset-gpios = <&gpio4 19 GPIO_ACTIVE_HIGH>;
-		status = "okay";
-
-		usb_con1: connector {
-			compatible = "usb-c-connector";
-			label = "USB-C";
-			power-role = "source";
-			data-role = "dual";
-			source-pdos = <PDO_FIXED(5000, 3000, PDO_FIXED_USB_COMM)>;
-		};
-	};
 };
 
 &i2c1 {
-- 
2.17.1

